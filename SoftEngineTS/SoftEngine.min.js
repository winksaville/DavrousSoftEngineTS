var SoftEngine;(function(n){var r=function(){function n(){this.Position=BABYLON.Vector3.Zero(),this.Target=BABYLON.Vector3.Zero()}return n}(),t,i;n.Camera=r,t=function(){function n(n,t){this.name=n,this.Vertices=new Array(t),this.Rotation=BABYLON.Vector3.Zero(),this.Position=BABYLON.Vector3.Zero()}return n}(),n.Mesh=t,i=function(){function n(n){this.workingCanvas=n,this.workingWidth=n.width,this.workingHeight=n.height,this.workingContext=this.workingCanvas.getContext("2d")}return n.prototype.clear=function(){this.workingContext.clearRect(0,0,this.workingWidth,this.workingHeight),this.backbuffer=this.workingContext.getImageData(0,0,this.workingWidth,this.workingHeight)},n.prototype.present=function(){this.workingContext.putImageData(this.backbuffer,0,0)},n.prototype.putPixel=function(n,t,i){this.backbufferdata=this.backbuffer.data;var r=((n>>0)+(t>>0)*this.workingWidth)*4;this.backbufferdata[r]=i.r*255,this.backbufferdata[r+1]=i.g*255,this.backbufferdata[r+2]=i.b*255,this.backbufferdata[r+3]=i.a*255},n.prototype.project=function(n,t){var i=BABYLON.Vector3.TransformCoordinates(n,t),r=i.x*this.workingWidth+this.workingWidth/2>>0,u=-i.y*this.workingHeight+this.workingHeight/2>>0;return new BABYLON.Vector2(r,u)},n.prototype.drawPoint=function(n){n.x>=0&&n.y>=0&&n.x<this.workingWidth&&n.y<this.workingHeight&&this.putPixel(n.x,n.y,new BABYLON.Color4(1,1,0,1))},n.prototype.render=function(n,t){for(var e=BABYLON.Matrix.LookAtLH(n.Position,n.Target,BABYLON.Vector3.Up()),o=BABYLON.Matrix.PerspectiveFovLH(.78,this.workingWidth/this.workingHeight,.01,1),u,f,r=0;r<t.length;r++){var i=t[r],s=BABYLON.Matrix.RotationYawPitchRoll(i.Rotation.y,i.Rotation.x,i.Rotation.z).multiply(BABYLON.Matrix.Translation(i.Position.x,i.Position.y,i.Position.z)),h=s.multiply(e).multiply(o);for(u=0;u<i.Vertices.length;u++)f=this.project(i.Vertices[u],h),this.drawPoint(f)}},n}(),n.Device=i})(SoftEngine||(SoftEngine={}))